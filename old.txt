from instabot import Bot
from secret import password as secret
import time
from icecream import ic

bot = Bot()
bot.login(username='aiarts69', password=secret)
time.sleep(10)
username_to_find = 'josef.jindra.666'
user_id = bot.get_user_id_from_username(username_to_find)
user_info = bot.get_user_info(username_to_find)

# Extract the follower count and following count
follower_count = user_info['follower_count']
following_count = user_info['following_count']
users_bio = user_info['biography']
ic(follower_count, following_count,users_bio)

#post of user
user_posts = bot.get_user_medias(user_id,filtration=False)
ic(user_posts)
for post in user_posts:
    post_likers = bot.get_media_likers(post)
    post_comments = bot.get_media_comments_all(post)
    post_like_count = len(post_likers)  # Get the like count by counting the likers
    caption = bot.get_media_([post])[0]

    print(f"Post URL: {post}")
    print(f"Likes: {post_like_count}")
    print(f"Comments: {post_comments}")
    print("\n")